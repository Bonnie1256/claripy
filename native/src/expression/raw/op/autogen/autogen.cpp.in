/** @file */

// Strings autogen.py will replace:
// $OPERATION will become the operation name
// $AUTOGEN_INCLUDE will become the op file to include

#include "$AUTOGEN_INCLUDE"

/************************************************/
/*                Helper Macros                 */
/************************************************/

/** A macro that expands to nothing */
#define EMPTY

/** Local: A macro used to join two macros */
#define JOIN2(X, Y) X##Y

/** Local: A macro used to create the name of a type op struct */
#define TYPEOP(T, O) JOIN2(T, O)

/************************************************/
/*                    Macros                    */
/************************************************/

/** Used to define an empty op destructor */
#define EMPTY_OP_DESTRUCTOR(X)                                                                    \
    Expression::Raw::TYPEOP(X, OP)::~TYPEOP(X, OP)() {}

/** Used to define an empty op destructor for each type, with a prefix */
#define EACH_TYPE_EMPTY_OP_DESTRUCTOR_WITH_PREFIX(PREFIX)                                         \
    EMPTY_OP_DESTRUCTOR(JOIN2(PREFIX, Base))                                                      \
    EMPTY_OP_DESTRUCTOR(JOIN2(PREFIX, Int))                                                       \
    EMPTY_OP_DESTRUCTOR(JOIN2(PREFIX, Bool))                                                      \
    EMPTY_OP_DESTRUCTOR(JOIN2(PREFIX, Bits))                                                      \
    EMPTY_OP_DESTRUCTOR(JOIN2(PREFIX, String))                                                    \
    EMPTY_OP_DESTRUCTOR(JOIN2(PREFIX, VS))                                                        \
    EMPTY_OP_DESTRUCTOR(JOIN2(PREFIX, FP))                                                        \
    EMPTY_OP_DESTRUCTOR(JOIN2(PREFIX, BV))

/************************************************/
/*              Define Destructors              */
/************************************************/

// Destructors
EACH_TYPE_EMPTY_OP_DESTRUCTOR_WITH_PREFIX(EMPTY)
EACH_TYPE_EMPTY_OP_DESTRUCTOR_WITH_PREFIX(Symbolic)
EACH_TYPE_EMPTY_OP_DESTRUCTOR_WITH_PREFIX(Concrete)
